{% extends "base.html" %}

{% block title %}Login{% endblock %}

{% block content %}
    <h1>Login</h1>
    {% if form.errors %}
        <p>Error with username and password.</p>
    {% else %}
        <p>Please use the following form to login:</p>
    {% endif %}
    <div>
        <form action="{% url 'login' %}" method="POST">
            {{ form.as_p }}
            {% csrf_token %}
            {# add 'next' as url parameter. It will be the redirect-to location if login is sucessful. #}
            <input type="hidden" name="next" value="{{ next }}"/>
            <p><input type="submit" value="Login"></p>
        </form>
        <p><a href="{% url "password_reset" %}">Forgotten your password?</a></p>
    </div>
{% endblock %}